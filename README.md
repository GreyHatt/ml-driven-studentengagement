# ML-Driven Student Engagement API

This project is a machine learning-powered API designed to analyze student feedback and structured data (e.g., marks, attendance) to categorize students into predefined engagement levels. The application is built using Flask and leverages Hugging Face's zero-shot classification for categorization.

---

## Features
- **Student Categorization**: Classifies students into categories like `Excellent`, `Good`, `Average`, and `Needs Improvement`.
- **Machine Learning Integration**: Uses Hugging Face's zero-shot classification for sentiment analysis and categorization.
- **Scalable Deployment**: Dockerized application with Kubernetes manifests for deployment on Google Kubernetes Engine (GKE).
- **CI/CD Pipeline**: Automated deployment using GitHub Actions.

---

## Project Structure
```bash
src/ 
├── app/ 
│ ├── app.py # Flask API implementation 
│ ├── model.py # ML logic for student categorization 
├── data/ 
│ ├── prepare_data.py # Sample student data preparation 
├── configs/ 
│ ├── service.yaml # Kubernetes Service configuration 
│ ├── deployment.yaml # Kubernetes Deployment configuration 
├── Dockerfile # Dockerfile for containerization 
├── requirements.txt # Python dependencies
├── workflows/ 
│ ├── deploy.yml # CI/CD pipeline for deployment
```

## Installation

### Prerequisites
- Python 3.8+
- Docker
- Kubernetes (kubectl)
- Google Cloud SDK (for GKE deployment)

### Steps To Run IT
1. Clone the repository:
   ```bash
   git clone https://github.com/your-repo/ml-driven-studentengagement.git
   cd ml-driven-studentengagement
   ```
2. Add variables in the .env file.
    ```properties
    GCP_SERVICE_ACCOUNT=<your_gcp_service_account>
    GCP_PROJECT_ID=<your_gcp_project_id>
    GKE_CLUSTER_NAME=<your_gke_cluster_name>
    HF_API_TOKEN=<your_huggingface_api_token>
     ```
    Note: You need to create Hugging Face API Token through https://huggingface.co/settings/tokens

3. Before next step, install GCP CLI, create GCP Artifact Register with name `student-engagement-app` and create GKE Cluster

4. Run the script:
    ```bash
    bash deploy.sh
    ```
    This script will:
    - Authenticate with Google Cloud using the provided service account.
    - Build the Docker image with the Hugging Face API token.
    - Push the Docker image to Google Artifact Registry.
    - Retrieve GKE cluster credentials.
    - Deploy the application to GKE using Kubernetes manifests.

5. Access the application:
    - Use the external load balancer URL generated by GKE to access the API.

## Predict Student Engagement
Endpoint: <load-balancer-url:port>/predict
Method: POST
Description: Accepts student data in JSON format and returns categorized results.

### Sample Request
```json
[{
    "student_id": "g24ai1000",
    "marks": 85,
    "attendance": 90,
    "assignments": 95,
    "responsiveness": 80,
    "feedback": 4.5
}]
```
### Sample Response:
```json
{
    "category": [
        {
            "category": "{\n    \"results\": [\n        {\n            \"label\": \"Good\",\n            \"score\": 0.4515203535556793\n        },\n        {\n            \"label\": \"Needs Improvement\",\n            \"score\": 0.3738452196121216\n        },\n        {\n            \"label\": \"Excellent\",\n            \"score\": 0.1292397826910019\n        },\n        {\n            \"label\": \"Average\",\n            \"score\": 0.045394692569971085\n        }\n    ],\n    \"best_category\": {\n        \"label\": \"Good\",\n        \"score\": 0.4515203535556793\n    }\n}",
            "student_id": "g24ai1000"
        }
    ],
    "status": "success"
}
```

## Architecture Diagram

<img width="927" alt="Screenshot 2025-04-15 at 5 59 57 PM" src="https://github.com/user-attachments/assets/851f9538-4c54-4bea-84da-7383d24e780b" />
